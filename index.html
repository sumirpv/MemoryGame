<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Memory Game</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        min-height: 100vh;
        font-family: Arial, sans-serif;
        padding: 20px;
      }

      h1 {
        color: white;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .stats {
        color: white;
        margin-bottom: 20px;
        font-size: 1.2em;
      }

      .game-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px; /* Increased gap between cards */
        max-width: 800px; /* Increased from 600px */
        perspective: 1000px;
        width: 90%; /* Makes it responsive */
        margin: 0 auto;
      }

      .card {
        height: 150px; /* Increased from 120px */
        width: 100%;
        position: relative;
        cursor: pointer;
        transform-style: preserve-3d;
        transform: scale(1);
        transition: transform 0.5s;
      }
      .card:active {
        transform: scale(0.95);
      }

      .card.flip {
        transform: rotateY(180deg);
      }

      .front,
      .back {
        position: absolute;
        width: 100%;
        height: 100%;
        padding: 25px; /* Increased padding */
        border-radius: 12px; /* Slightly larger border radius */
        backface-visibility: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2.5em; /* Increased emoji size */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .front {
        background-color: #2c3e50;
        transform: rotateY(180deg);
      }

      .back {
        background-color: #3498db;
        background-image: linear-gradient(45deg, #3498db, #2980b9);
      }

      .restart-btn {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 1.1em;
        border: none;
        border-radius: 5px;
        background: #e74c3c;
        color: white;
        cursor: pointer;
        transition: background 0.3s;
      }

      .restart-btn:hover {
        background: #c0392b;
      }
    </style>
  </head>
  <body>
    <h1>Memory Game</h1>
    <div class="stats">
      Moves: <span id="moves">0</span> | Matches: <span id="matches">0</span>
    </div>
    <div class="game-container" id="gameContainer"></div>
    <button class="restart-btn" onclick="restartGame()">Restart Game</button>

    <script>
      const emojis = ["ðŸŽ®", "ðŸŽ²", "ðŸŽ¯", "ðŸŽ¨", "ðŸŽ­", "ðŸŽª", "ðŸŽ«", "ðŸŽ¬"];
      const gameContainer = document.getElementById("gameContainer");
      const movesDisplay = document.getElementById("moves");
      const matchesDisplay = document.getElementById("matches");
      let cards = [];
      let moves = 0;
      let matches = 0;
      let hasFlippedCard = false;
      let lockBoard = false;
      let firstCard, secondCard;

      function createCard(emoji) {
        const card = document.createElement("div");
        card.classList.add("card");
        card.innerHTML = `
                <div class="front">${emoji}</div>
                <div class="back">?</div>
            `;
        card.addEventListener("click", flipCard);
        return card;
      }

      function flipCard() {
        if (lockBoard) return;
        if (this === firstCard) return;

        this.classList.add("flip");
        moves++;
        movesDisplay.textContent = moves;

        if (!hasFlippedCard) {
          hasFlippedCard = true;
          firstCard = this;
          return;
        }

        secondCard = this;
        checkForMatch();
      }

      function checkForMatch() {
        const isMatch =
          firstCard.querySelector(".front").textContent ===
          secondCard.querySelector(".front").textContent;

        if (isMatch) {
          matches++;
          matchesDisplay.textContent = matches;
          disableCards();
          if (matches === emojis.length) {
            setTimeout(() => {
              alert(`Congratulations! You won in ${moves} moves!`);
            }, 500);
          }
        } else {
          unflipCards();
        }
      }

      function disableCards() {
        firstCard.removeEventListener("click", flipCard);
        secondCard.removeEventListener("click", flipCard);
        resetBoard();
      }

      function unflipCards() {
        lockBoard = true;
        setTimeout(() => {
          firstCard.classList.remove("flip");
          secondCard.classList.remove("flip");
          resetBoard();
        }, 1000);
      }

      function resetBoard() {
        [hasFlippedCard, lockBoard] = [false, false];
        [firstCard, secondCard] = [null, null];
      }

      function shuffle(array) {
        return array.sort(() => Math.random() - 0.5);
      }

      function initializeGame() {
        const gameArray = [...emojis, ...emojis];
        shuffle(gameArray);

        gameContainer.innerHTML = "";
        gameArray.forEach((emoji) => {
          const card = createCard(emoji);
          gameContainer.appendChild(card);
          cards.push(card);
        });
      }

      function restartGame() {
        moves = 0;
        matches = 0;
        movesDisplay.textContent = moves;
        matchesDisplay.textContent = matches;
        cards.forEach((card) => {
          card.classList.remove("flip");
          card.addEventListener("click", flipCard);
        });
        setTimeout(() => {
          initializeGame();
        }, 500);
      }

      initializeGame();
    </script>
  </body>
</html>
